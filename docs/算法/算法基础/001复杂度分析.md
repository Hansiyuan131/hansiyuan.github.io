# 复杂度分析

## 为什么评估算法？

- 执行效率关乎时间成本
- 存储空间关乎硬件成本

> 数据结构和算法本身解决的是“快”和“省”的问题


## 如何评估算法

### 事后统计法

> 通过统计、监控，就能得到算法执行的时间和占用的内存大小,这种统计法有非常大的局限性

1. 测试结果非常依赖测试环境
2. 测试结果受数据规模的影响很大

### 大 O 复杂度表示法

> 一个不用具体的测试数据来测试，就可以粗略地估计算法的执行效率的方法

### 例一

``` java
int cal(int n) {
    int sum = 0;
    int i = 1;
    for (; i <= n; ++i) {
          sum = sum + i;
    } 
    return sum; 
}

```

> 从 CPU 的角度来看，这段代码的每一行都执行着类似的操作:读数据-运算-写数据。
> 尽管每行代码对应的 CPU 执行的个数、执行的时间都不一样,我们这里假设每行代码执行的时间都一样为 unit_time

- unit_time
    - 2、3 行
- n * unit_time
    - 4、5 行
- 总时间
    - T(n) = (2n+2)*unit_time
    - 即：y = k * x

**可以看出所有代码的执行时间 T(n) 与每行代码的执行次数成正比**


### 例二
``` java
int cal(int n) {
    int sum = 0; 
    int i = 1; 
    int j = 1; 
    for (; i <= n; ++i) { 
        j = 1; 
        for (; j <= n; ++j) {
            sum = sum + i * j; 
        } 
    } 
}
```

- unit_time
    - 2、3、4 行
- n * unit_time
    - 5、6 行
- n * n * unit_time
    - 7、8 行
- 总时间
    - T(n) = (2n^2 +2n + 3)*unit_time
    - 即：y = x^2 + x + k

**可以看出所有代码的执行时间 T(n) 与每行代码的执行次数 n 成正比**

### 大O时间复杂度上场

我们根据这个规律总结成一个公式：T(n) = O(f(n))

- T(n): 代码执行的时间
- n: 表示数据规模的大小
- f(n): 表示每行代码执行的次数总和
- O: 表示代码的执行时间 T(n) 与 f(n) 表达式成正比

> 大 O 时间复杂度实际上并不具体表示代码真正的执行时间，而是表示代码执行时间随数据规模增长的变化趋势，所以，也叫作渐进时间复杂度（asymptotic time complexity），简称时间复杂度

当 n 很大时，公式中的低阶、常量、系数三部分并不左右增长趋势，所以都可以忽略。如果用大 O 表示法表示刚讲的那两段代码的时间复杂度，就可以记为：T(n) = O(n)； T(n) = O(n^2)

[时间复杂度-百度百科](https://baike.baidu.com/item/%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E6%80%A7?fromtitle=%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6&fromid=1894057)
[时间复杂度-维基百科](https://zh.wikipedia.org/wiki/%E6%97%B6%E9%97%B4%E5%A4%8D%E6%9D%82%E5%BA%A6)


## 时间复杂度分析
- 时间复杂度
    ![常见的时间复杂度](https://gss0.bdstatic.com/94o3dSag_xI4khGkpoWK1HF6hhy/baike/c0%3Dbaike80%2C5%2C5%2C80%2C26/sign=916f30355482b2b7b392319650c4a08a/dcc451da81cb39db86d6cf67dd160924ab1830e8.jpg)


## 空间复杂度分析 


- 只关注循环执行次数最多的一段代码
- 加法法则：总复杂度等于量级最大的那段代码的复杂度
- 乘法法则：嵌套代码的复杂度等于嵌套内外代码复杂度的乘积


**几种常见时间复杂度实例分析**

- O(1)
- O(logn)、O(nlogn)
- O(m+n)、O(m*n)

## 四个维度的复杂度分析

### 最好情况时间复杂度


TODO

### 最坏情况时间复杂度


TODO


### 平均情况时间复杂度



TODO


### 均摊时间复杂度



TODO


<Valine></Valine>